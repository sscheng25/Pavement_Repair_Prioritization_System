labs(title = "Distribution of Crash Numbers",
subtitle = "El Paso,TX") +
plotTheme()
census_geom <-
EP_econ %>%
subset(select = c("GEOID","geometry"))
VMT$GEOID <- substr(VMT$FIPS, 1, 11)
VMT_sf <-
census_geom %>%
right_join(VMT, by="GEOID") %>%
subset(id != 0) %>%
group_by(GEOID) %>%
summarise(VMT = sum(count)) %>%
merge(EP_econ %>%
st_drop_geometry() %>%
dplyr::select(GEOID, total_pop), by="GEOID",all.x=TRUE) %>%
mutate(VMT_pop = VMT/total_pop) %>%
st_transform('ESRI:102339')
VMT_sf2 <- VMT_sf %>% drop_na()
ggplot() +
geom_sf(data = VMT_sf2, aes(fill = VMT_pop)) +
scale_fill_viridis(direction=-1, option='G')+
labs(title = "VMT per population",
subtitle = "El Paso, TX") +
mapTheme()
VMT_centerlines <-
EPCenterline_new %>%
st_join(VMT_sf)
VMT_with_PCI_GEOID <- VMT_centerlines %>%
st_drop_geometry()%>%
group_by(index, GEOID)%>%
dplyr::select(index, GEOID, PCI_2018, VMT_pop)
VMT_with_PCI_GEOID$uniqueID <- 1:nrow(VMT_with_PCI_GEOID)
VMT_with_PCI_index <- VMT_with_PCI_GEOID %>%
group_by(index) %>%
summarize(PCI_2018 = mean(PCI_2018),
uniqueID = min(uniqueID),
VMT_pop = mean(VMT_pop))%>%
dplyr::select(index, uniqueID, PCI_2018, VMT_pop)
VMT_with_PCI <- left_join(VMT_with_PCI_index, VMT_with_PCI_GEOID, by = 'uniqueID')%>%
dplyr::select(index.y,GEOID,PCI_2018.y, VMT_pop.y)%>%
rename(index=index.y,
PCI_2018=PCI_2018.y,
VMT_pop=VMT_pop.y)
#join to epcenterline df
EPCenterline_new2 <- EPCenterline_new %>%
left_join(VMT_with_PCI, by = 'index')%>%
dplyr::select(-PCI_2018.y) %>%
rename(PCI_2018=PCI_2018.x)
VMT_centerlines <-
EPCenterline_new %>%
st_join(VMT_sf)
VMT_with_PCI_GEOID <- VMT_centerlines %>%
st_drop_geometry()%>%
group_by(index, GEOID)%>%
dplyr::select(index, GEOID, PCI_2018, VMT_pop)
VMT_with_PCI_GEOID$uniqueID <- 1:nrow(VMT_with_PCI_GEOID)
VMT_with_PCI_index <- VMT_with_PCI_GEOID %>%
group_by(index) %>%
summarize(PCI_2018 = mean(PCI_2018),
uniqueID = min(uniqueID),
VMT_pop = mean(VMT_pop))%>%
dplyr::select(index, uniqueID, PCI_2018, VMT_pop)
VMT_with_PCI <- left_join(VMT_with_PCI_index, VMT_with_PCI_GEOID, by = 'uniqueID')%>%
dplyr::select(index.y,GEOID,PCI_2018.y, VMT_pop.y)%>%
rename(index=index.y,
PCI_2018=PCI_2018.y,
VMT_pop=VMT_pop.y)
#join to epcenterline df
EPCenterline_new2 <- EPCenterline_new %>%
left_join(VMT_with_PCI, by = 'index')%>%
dplyr::select(-PCI_2018.y) %>%
rename(PCI_2018=PCI_2018.x)
EPCenterline_new3 <-
EPCenterline_new2 %>%
left_join(EP_econ %>%
st_drop_geometry(), by = 'GEOID') %>%
left_join(EP_race %>%
st_drop_geometry() %>%
dplyr::select(GEOID, pctWhite), by = 'GEOID') %>%
left_join(EP_ethnicity %>%
st_drop_geometry() %>%
dplyr::select(GEOID, pctNotHL), by = 'GEOID')
roadbed_base <- roadbed_base %>%
st_transform('ESRI:102339')
roadbed_base_PCI <- st_join(roadbed_base, EPCenterline_new3, join=st_nearest_feature)
roadbed_base_PCI <- roadbed_base_PCI[c('index','BASE_TYPE_','PCI_2018')]
ggplot(roadbed_base_PCI, aes(y=BASE_TYPE_)) +
geom_bar(width=0.5, color="black", fill = "#08519c") +
labs(title = "Roads by Base Material",
y="Base Type",
x="Count",
subtitle = "El Paso, TX") +
plotTheme()
roadbed_surface <- roadbed_surface %>%
st_transform('ESRI:102339')
roadbed_surface_PCI <- st_join(roadbed_surface, EPCenterline_new3, join=st_nearest_feature)
roadbed_surface_PCI <- roadbed_surface_PCI[c('index','SRFC_TYPE','PCI_2018')]
ggplot(roadbed_surface_PCI, aes(y=SRFC_TYPE)) +
geom_bar(width=0.5, color="black", fill = "#08519c") +
labs(title = "Roads by Surface Material",
y="Surface Material Type",
x="Count",
subtitle = "El Paso, TX") +
plotTheme()
paved_status <- EPCenterline_new[c('STATUS','index')]
ggplot(paved_status, aes(y=STATUS)) +
geom_bar(width=0.5, color="black", fill = "#08519c") +
labs(title = "Roads by Paved Status",
y="Paved Status",
x="Count",
subtitle = "El Paso,TX") +
plotTheme()
land_use_centerlines <-
EPCenterline_new %>%
st_join(land_use_majority_sf)
land_use_with_PCI_GEOID <- land_use_centerlines %>%
st_drop_geometry()%>%
group_by(index, GEOID)%>%
dplyr::select(index, GEOID, PCI_2018, land_use_type)
land_use_with_PCI_GEOID$uniqueID <- 1:nrow(land_use_with_PCI_GEOID)
land_use_with_PCI_index <- land_use_with_PCI_GEOID %>%
group_by(index) %>%
summarize(PCI_2018 = mean(PCI_2018),
uniqueID = min(uniqueID))
land_use_with_PCI <- left_join(land_use_with_PCI_index, land_use_with_PCI_GEOID, by = 'uniqueID')%>%
dplyr::select(index.y,GEOID,PCI_2018.y, land_use_type)%>%
rename(index=index.y,
PCI_2018=PCI_2018.y,
land_use_type=land_use_type)
#join to epcenterline df
EPCenterline_new4 <- EPCenterline_new3 %>%
right_join(land_use_with_PCI, by = 'index')%>%
dplyr::select(-PCI_2018.y) %>%
rename(PCI_2018=PCI_2018.x)
EPCenterline_new4 <- EPCenterline_new4 %>% mutate(n_hydro_int = lengths(st_intersects(EPCenterline_new4, EPhydrology)))
numVars <-
EPCenterline_new4 %>%
dplyr::select(#potholes_count, waze_count, crash_count,
#commenting out census variables while census API is down
VMT_pop,
#total_pop.y,
#med_hh_income, med_rent, pct_transport_to_work, pctWhite, pctNotHL,
Res_Year,potholes_len, waze_len, crash_len, n_hydro_int) %>%
st_drop_geometry() %>%
na.omit()
numVars_withCensusVars <-
EPCenterline_new4 %>%
dplyr::select(#potholes_count, waze_count, crash_count,
VMT_pop,
med_hh_income, med_rent, pct_transport_to_work, pctWhite, pctNotHL,
Res_Year,potholes_len, waze_len, crash_len, n_hydro_int) %>%
st_drop_geometry() %>%
na.omit()
ggcorrplot(
round(cor(numVars), 1),
p.mat = cor_pmat(numVars),
colors = c("#e6a52f", "white", "#3fb0c0"),
type="lower",
show.diag = TRUE,
lab = TRUE,
insig = "blank") +
labs(title = "Correlation Matrix for Numeric Variables") +
#theme(plot.title = element_text(hjust = 0.5)) +
plotTheme()
ggcorrplot(
round(cor(numVars_withCensusVars), 1),
p.mat = cor_pmat(numVars_withCensusVars),
colors = c("#e6a52f", "white", "#3fb0c0"),
type="lower",
show.diag = TRUE,
lab = TRUE,
insig = "blank") +
labs(title = "Correlation Matrix for Numeric Variables",
subtitle="Including Census Variables") +
#theme(plot.title = element_text(hjust = 0.5)) +
plotTheme()
# ggcorrplot(
#   round(cor(numVars), 1),
#   p.mat = cor_pmat(numVars),
#   colors = c("#e6a52f", "white", "#3fb0c0"),
#   type="lower",
#   method = 'circle',
#   insig = "blank") +
#   labs(title = "Correlation Matrix for Numeric Variables")
ggcorrplot(
round(cor(numVars_withCensusVars), 1),
p.mat = cor_pmat(numVars_withCensusVars),
colors = c("#e6a52f", "white", "#3fb0c0"),
type="lower",
show.diag = TRUE,
lab = TRUE,
insig = "blank") +
labs(title = "Correlation Matrix for Numeric Variables",
subtitle="Including Census Variables") +
#theme(plot.title = element_text(hjust = 0.5)) +
plotTheme()
ggplot(land_use_majority_sf, aes(y=land_use_type)) +
geom_bar(width=0.5, color="black", fill = "#08519c") +
labs(title = "Land Use by Census Tract",
y="Land Use Type",
x="Count of Tracts",
subtitle = "El Paso, TX",
caption="Source: City of El Paso, TX") +
plotTheme()
ggplot(land_use_majority_sf, aes(y=land_use_type)) +
geom_bar(width=0.5, color="black", fill = "#08519c") +
labs(title = "Land Use by Census Tract",
y="Land Use Type",
x="Count of Tracts",
subtitle = "El Paso, TX",
caption="Source: City of El Paso, TX") +
plotTheme()
ggplot() +
geom_sf(data = land_use_majority_sf, aes(fill = land_use_type), color="grey") +
scale_fill_viridis_d(option="mako", direction=-1) +
labs(title = "Land Use by Census Tract",
fill= "Land Use Type \n(Majority)",
subtitle = "El Paso, TX") +
mapTheme()
ggplot() +
geom_sf(data = land_use_majority_sf, aes(fill = land_use_type), color="grey") +
scale_fill_viridis_d(option="mako", direction=-1) +
labs(title = "Land Use by Census Tract",
fill= "Land Use Type \n(Majority)",
caption="Source: City of El Paso, TX",
subtitle = "El Paso, TX") +
mapTheme()
floodzones <- st_read("Data/FlodZones/FloodZone.shp" )%>%
st_transform('ESRI:102339')
floodzones <- st_read("Data/FloodZones/FloodZone.shp" )%>%
st_transform('ESRI:102339')
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = floodzones, color = 'blue', alpha = 0.5, show.legend = T)+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
# clip flood zones to city bounds
EPcity_floodzones <- st_intersection(El_Paso_city, floodzones)
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = floodzones, color = 'blue', alpha = 0.5, show.legend = T)+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = floodzones, fill = 'blue', alpha = 0.5, show.legend = T)+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, fill = 'blue', alpha = 0.5, show.legend = T)+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, fill = 'blue')+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
View(floodzones)
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE))+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
# combine A zones
EPcity_floodzones <- EPcity_floodzones %>%
dplyr::mutate(Zone_NEW = ifelse(ZONE %in% Azones, "A"))
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22")
# combine A zones
EPcity_floodzones <- EPcity_floodzones %>%
dplyr::mutate(Zone_NEW = ifelse(ZONE %in% Azones, "A"))
# combine A zones
EPcity_floodzones <- EPcity_floodzones %>%
dplyr::mutate(Zone_NEW = ifelse(ZONE %in% Azones, "A"), NA)
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A"
View(EPcity_floodzones)
View(EPcity_floodzones)
# clip flood zones to city bounds
EPcity_floodzones <- st_intersection(El_Paso_city, floodzones)
# clip flood zones to city bounds
EPcity_floodzones <- st_intersection(floodzones, El_Paso_city)
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22")
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A"
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE))+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22", "A23", "A30")
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A"
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A"
```{r visualize flood zones, message=FALSE, warning=FALSE}
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE))+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
# clip flood zones to city bounds
EPcity_floodzones <- st_intersection(floodzones, El_Paso_city)
# Combining AE and A1-30
# Why? Zone AE and A1-30 are areas subject to inundation by the 1-percent-annual-chance flood event determined by detailed methods. Base Flood Elevations (BFEs) are shown.
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22", "A23", "A30")
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A"
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22", "A23", "A30", "AE")
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A"
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A and A1-30"
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A and A1-30"
```{r visualize flood zones, message=FALSE, warning=FALSE}
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22", "A23", "A30", "AE")
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "AE_and_A1-30"
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
# clip flood zones to city bounds
EPcity_floodzones <- st_intersection(floodzones, El_Paso_city)
# Combining AE and A1-30
# Why? Zone AE and A1-30 are areas subject to inundation by the 1-percent-annual-chance flood event determined by detailed methods. Base Flood Elevations (BFEs) are shown.
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22", "A23", "A30", "AE")
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "AE_and_A1-30"
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A"
# clip flood zones to city bounds
EPcity_floodzones <- st_intersection(floodzones, El_Paso_city)
# Combining AE and A1-30
# Why? Zone AE and A1-30 are areas subject to inundation by the 1-percent-annual-chance flood event determined by detailed methods. Base Flood Elevations (BFEs) are shown.
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22", "A23", "A30", "AE")
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "A"
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "AE, A1-30"
# clip flood zones to city bounds
EPcity_floodzones <- st_intersection(floodzones, El_Paso_city)
# Combining AE and A1-30
# Why? Zone AE and A1-30 are areas subject to inundation by the 1-percent-annual-chance flood event determined by detailed methods. Base Flood Elevations (BFEs) are shown.
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22", "A23", "A30", "AE")
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "AE, A1-30"
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="Flood Zones",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="Flood Zones",
fill= "Zone",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
labs(title="FEMA Flood Zones in El Paso",
fill= "Zone",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
scale_fill_viridis_d(direction=-1, option='G')+
labs(title="FEMA Flood Zones in El Paso",
fill= "Zone",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
scale_fill_viridis_d(direction=-1, option='B')+
labs(title="FEMA Flood Zones in El Paso",
fill= "Zone",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
#scale_fill_viridis_d(direction=-1, option='G')+
labs(title="FEMA Flood Zones in El Paso",
fill= "Zone",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
EPhydrology <- st_intersection(hydrology, El_Paso_city)
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPhydrology, color = 'blue', alpha = 0.5, show.legend = T)+
labs(title="Hydrology Across the City",
subtitle="El Paso, TX", caption="Source: US Census - TIGER/Line Shapefiles") + mapTheme()
# clip flood zones to city bounds
EPcity_floodzones <- st_intersection(floodzones, El_Paso_city)
# Combining AE and A1-30
# Why? Zone AE and A1-30 are areas subject to inundation by the 1-percent-annual-chance flood event determined by detailed methods. Base Flood Elevations (BFEs) are shown.
# list of A zones
Azones <- c("A1", "A2", "A3", "A4", "A5", "A6", "A7", "A8", "A9", "A10", "A11", "A12", "A13", "A14", "A15", "A16", "A17", "A18", "A19", "A20", "A21", "A22", "A23", "A30", "AE")
EPcity_floodzones$ZONE[EPcity_floodzones$ZONE %in% Azones] <- "AE, A1-30"
ggplot()+
geom_sf(data=El_Paso_city, aes(), color="grey")+
geom_sf(data = EPcity_floodzones, aes(fill=ZONE), color="transparent")+
#scale_fill_viridis_d(direction=-1, option='G')+
labs(title="FEMA Flood Zones in El Paso",
fill= "Zone",
subtitle="El Paso, TX", caption="Source: City of El Paso; FEMA") + mapTheme()
# map crashes by length
ggplot() +
geom_sf(data = EPCenterline_new, aes(fill = crash_len)) +
scale_fill_viridis(direction=-1, option='G')+
labs(title = "VMT per population",
subtitle = "El Paso, TX") +
mapTheme()
# map crashes by length
ggplot() +
geom_sf(data = EPCenterline_new, aes(fill = crash_len)) +
scale_fill_viridis(direction=-1, option='G')+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
ggplot() +
geom_sf(data = EPCenterline_new, aes(fill = crash_len)) +
scale_fill_viridis(direction=-1, option='G', trans="log")+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
ggplot() +
geom_sf(data = EPCenterline_new, aes(color = crash_len)) +
scale_color_viridis(direction=-1, option='G', trans="log")+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
# map crashes by length
ggplot() +
geom_sf(data = EPCenterline_new, aes(color = crash_len)) +
scale_color_viridis(direction=-1, option='G', trans="log", limits=(1,900))+
# map crashes by length
ggplot() +
geom_sf(data = EPCenterline_new, aes(color = crash_len)) +
scale_color_viridis(direction=-1, option='G', trans="log", limits=c(1,900))+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
# map crashes by length
ggplot() +
geom_sf(data = EPCenterline_new, aes(color = crash_len)) +
scale_color_viridis(direction=-1, option='G', trans="log", limits=c(1,900))+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
# map crashes by length
ggplot() +
geom_sf(data = EPCenterline_new, aes(color = crash_len)) +
scale_color_viridis(direction=-1, option='G', trans="log", limits=c(1,500))+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
# map crashes by length
ggplot() +
geom_sf(data = EPCenterline_new, aes(color = crash_len)) +
scale_color_viridis(direction=-1, option='G', limits=c(1,500))+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
View(EPCenterline_new)
# map crashes by length
crash_breaks = c(1, 5, 10, 25, 100, 900)
ggplot() +
geom_sf(data = EPCenterline_new, aes(color = crash_len)) +
scale_color_viridis(direction=-1, option='G', breaks=crash_breaks, limits=c(1,500))+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
ggplot() +
geom_sf(data = EPCenterline_new, aes(color = crash_len)) +
scale_color_viridis(direction=-1, option='G', breaks=crash_breaks, limits=c(1,100))+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
ggplot() +
geom_sf(data = EPCenterline_new, aes(fill = crash_len)) +
scale_fill_viridis(direction=-1, option='G', breaks=crash_breaks, limits=c(1,100))+
labs(title = "Crashes in 2018",
subtitle = "El Paso, TX") +
mapTheme()
